# 4.1 Директивы

## 4.2 Рефакторинг вкладки с описанием

_Задание._
Командой был создан пустой HTML файл product-description.html. Вынесем в него содержимое вкладки Description, а на его месте добавим product-description.html.  
	1) Вынести вкладку description в product-description.html.  
	2) Включить product-description.html внутри вкладки description.

_Решение._
Перенесём содержимое div c description в новый файл, а в его открывающем теге расположим ссылку на этот файл:   
product-description.html:
```html
<!-- Move the description tab here! -->
<h4>Description</h4>
<blockquote>{{product.description}}</blockquote>
```
index.html:
```html
<!--  Description Tab's Content  -->
<div ng-show="tab.isSet(1)" 
     ng-include="'product-description.html'">
</div>
```

_Пояснение._
Некоторые элементы могут быть использованы на нескольких страницах. Конечно можно всякий раз заново их выписывать, но лучше поместить их в отдельный файл, на который можно сослаться. Одним из способов такой ссылки является использование в шаблоне директивы ng-include, которая ожидает имя файла. Имя следует помещать в одинарные ковычки. В итоге получаем обёрнутый в два вида ковычек адрес файла: `ng-include="'имя-файла.html'"`.

## 4.3 Создание директивы элемента

_Задание._
Вместо использования ng-include создадим пользовательскую директиву productDescription.  
	1) Создать Element Directive для div Description, который включает product-description.html.  
	2) Внутри файла на странице использовать пользовательский тег-директиву вместо ng-include.   
	
_Решение._
В app.js создадим пользовательскую директиву для productDescription. Она вернёт тег product-description, содержащий шаблон из файла product-description.html. Этот тег используем на месте описания продукта в index.html:   
app.js:
```javascript
app.directive('productDescription', function () {
    return {
        restrict: 'E',
        templateUrl: 'product-description.html'
    };
});
```
index.html:
```html
<!--  Description Tab's Content  -->
<product-description ng-show="tab.isSet(1)"></product-description>
```

_Пояснение._
Шаблон из прошлого упражнения работает, но такое его использование не является хорошей практикой. Лучше связать его с  JS, создав новую директиву. Директива позволяет нам писать код, который отражает поведение приложения. Мы легко можем создать пользовательскую директиву, добавив к JS файлу `app.directive('имяДирективы', function(){})`. Функция должна возвращать объект конфигураций, определяющий как будет работать директива. Он может включать в себя свойства intorestrict (определяет тип директивы) и templateUrl (URL шаблона). В HTML имя директивы из верблюжьегоСтиля преобразуется в дефисный (имя-директивы). Элемент может быть самозакрывающемся, но такие теги не нравятся некоторым браузерам.

## 4.4 Создание директивы атрибута

_Задание._
Во вкладку specs было добавлено больше информации. Сделаем рефакторинг содержимого div specs внутри директивы атрибута.   
	1) Переместить содержимое из div specs в product-specs.html.   
	2) Создать новую директиву атрибута для тега specs и назвать её productSpecs. Сделать это, используя новый шаблон product-specs.html.   
	3) В index.html использовать новую директиву атрибута для отображения product specs.

_Решение._
Перенесём содержиме из div specs в файл product-specs.html. Создадим для него пользовательскую директиву productSpecs, которую поместив в вышеуказанный div:   
app.js:
```javascript
app.directive('productSpecs', function () {
    return {
        restrict: 'A',
        templateUrl: 'product-specs.html'
    };
});
```
product-specs.html:
```html
<h4>Specs</h4>
<ul class="list-unstyled">
    <li>
        <strong>Shine</strong>
        : {{product.shine}}
    </li>
    <li>
        <strong>Faces</strong>
        : {{product.faces}}
    </li>
    <li>
        <strong>Rarity</strong>
        : {{product.rarity}}
    </li>
    <li>
        <strong>Color</strong>
        : {{product.color}}
    </li>
</ul>
```
index.html:
```html
<div ng-show="tab.isSet(2)" product-specs>
</div>
```

_Пояснение._
Свойство restrict может принимать значения 'E' (для создания элемента) и 'A' (для создания атрибута).